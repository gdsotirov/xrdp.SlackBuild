# Patch for 0.9.22 to adjust configuration
# - Adjust session manager logging configuration
diff -urNad xrdp-0.9.22-orig/sesman/sesman.ini xrdp-0.9.22/sesman/sesman.ini
--- xrdp-0.9.22-orig/sesman/sesman.ini	2023-05-07 08:53:57.000000000 +0300
+++ xrdp-0.9.22/sesman/sesman.ini	2023-05-07 11:21:29.488498569 +0300
@@ -12,7 +12,7 @@
 ReconnectScript=reconnectwm.sh
 
 [Security]
-AllowRootLogin=true
+AllowRootLogin=false
 MaxLoginRetry=4
 TerminalServerUsers=tsusers
 TerminalServerAdmins=tsadmins
@@ -154,7 +154,7 @@
 ; Note: Log levels can be any of: core, error, warning, info, debug, or trace
 LogLevel=INFO
 EnableSyslog=true
-#SyslogLevel=INFO
+SyslogLevel=INFO
 #EnableConsole=false
 #ConsoleLevel=INFO
 #EnableProcessId=false
diff -urNad xrdp-0.9.22-orig/xrdp/xrdp.ini xrdp-0.9.22/xrdp/xrdp.ini
--- xrdp-0.9.22-orig/xrdp/xrdp.ini	2023-05-07 08:53:57.000000000 +0300
+++ xrdp-0.9.22/xrdp/xrdp.ini	2023-05-07 11:21:29.488498569 +0300
@@ -181,7 +181,7 @@
 LogFile=xrdp.log
 LogLevel=INFO
 EnableSyslog=true
-#SyslogLevel=INFO
+SyslogLevel=INFO
 #EnableConsole=false
 #ConsoleLevel=INFO
 #EnableProcessId=false
